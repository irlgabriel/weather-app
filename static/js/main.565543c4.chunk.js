(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{31:function(e,t,a){e.exports=a(49)},49:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(14),i=a.n(c),l=a(13),o=a.n(l),s=a(18),u=a(8),m=a(11),p=a(12);function d(){var e=Object(m.a)(["\n  * {\n    box-sizing: border-box;\n    padding: 0;\n    margin: 0;\n  }\n"]);return d=function(){return e},e}var b=Object(p.a)(d()),f=(a(39),a(56)),h=a(65),y=a(64),E=a(55),g=a(53),j=a(54),O=a(51),v=a(52);function x(){var e=Object(m.a)(["\n\n"]);return x=function(){return e},e}function w(){var e=Object(m.a)(["\n  width: 50%;\n  margin: 0 auto;\n  position: relative;\n  padding-right: 30px;\n\n  @media screen and (max-width: 768px) {\n    width: 90%; \n  }\n"]);return w=function(){return e},e}var k=Object(p.b)(O.a)(w()),S=Object(p.b)(v.a)(x());function N(e){var t=e.setFlash,a=e.setFlashMessage,n=e.locationObj,c=e.setLocationObj,i=e.getCoords;return r.a.createElement(g.a,{onSubmit:function(e){e.preventDefault();var n=e.target.location.value;""===n?(a("bad query"),t(!0)):c({city:n})}},r.a.createElement(j.a,null,r.a.createElement(S,{className:"text-center w-100 h2",htmlFor:"location"},"City"),r.a.createElement(k,{defaultValue:n.city,name:"location",placeholder:"City Name.."})),r.a.createElement(j.a,{className:"text-center"},r.a.createElement(E.a,null,"Search"),r.a.createElement("p",{className:"mb-0"},"Or"),r.a.createElement(E.a,{type:"button",onClick:i,color:"primary"},"Get My Location")))}var C=a(20),L=a(57),F=a(58),I=a(59),M=a(60),D=a(61),T=a(62),G=a(63);function H(e){var t=e.weatherObj,a=e.locationObj,n=e.symbol,c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=new Date,l=c[i.getDay()],o=c.indexOf(l);return r.a.createElement(f.a,{color:"primary",fluid:!0},a.city&&t.list&&r.a.createElement("h3",{className:"text-center"},a.city+", "+t.city.country),r.a.createElement(L.a,null,t&&t.list&&t.list.map((function(e){return r.a.createElement(F.a,{key:o,xs:"12",sm:"6",md:"4",lg:"3"},r.a.createElement(I.a,{className:"m-1 bg-light text-dark",key:c[o%7]},r.a.createElement(M.a,null,r.a.createElement(D.a,null,r.a.createElement("h4",null,c[o++%7])),r.a.createElement(T.a,null,r.a.createElement("span",null,e.weather[0].description))),r.a.createElement(G.a,null,r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},"Current: \xa0",parseInt(e.temp.day),n),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},"Min: \xa0",parseInt(e.temp.min),n),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},"Max: \xa0",parseInt(e.temp.max),n),r.a.createElement("p",{className:"mb-0"},"Humidity: \xa0",e.humidity,"%"),r.a.createElement("p",{className:"mb-0"},"Sunrise(",r.a.createElement(C.a,null),"): ",new Date(1e3*e.sunrise).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),r.a.createElement("p",{className:"mb-0"},"Sunset(",r.a.createElement(C.b,null),"): ",new Date(1e3*e.sunset).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})))))}))))}var W=a(30),q=a.n(W),J=a(10);var P=function(){var e=Object(n.useState)({}),t=Object(u.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)({}),l=Object(u.a)(i,2),m=l[0],p=l[1],d=Object(n.useState)("metric"),g=Object(u.a)(d,2),j=g[0],O=g[1],v=Object(n.useState)(r.a.createElement(J.a,null)),x=Object(u.a)(v,2),w=x[0],k=x[1],S=Object(n.useState)(!1),C=Object(u.a)(S,2),L=C[0],F=C[1],I=Object(n.useState)("Default Flash Message"),M=Object(u.a)(I,2),D=M[0],T=M[1];function G(e){!function(e,t){P.apply(this,arguments)}(e.coords.latitude,e.coords.longitude)}function W(){T("Cannot Get Position!"),F(!0)}function P(){return(P=Object(s.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=".concat(t,"&longitude=").concat(a,"&localityLanguage=en"));case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,p(r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return B.apply(this,arguments)}function B(){return(B=Object(s.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T("Loading..."),F(!0),e.prev=2,e.next=5,fetch("https://community-open-weather-map.p.rapidapi.com/forecast/daily?q=".concat(m.city,"&cnt=7&units=").concat(j),{method:"GET",headers:{"x-rapidapi-host":"community-open-weather-map.p.rapidapi.com","x-rapidapi-key":"d89eb58edamsh10814d1e692895ep158751jsn8a8b4c01281a"}});case 5:return t=e.sent,e.next=8,t.json();case 8:if(a=e.sent,c(a),F(!1),"404"!==a.cod){e.next=13;break}throw a.message;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),T(e.t0),F(!0);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){a.list&&(k("metric"===j?r.a.createElement(J.a,null):r.a.createElement(J.b,null)),z())}),[j]),Object(n.useEffect)((function(){L&&setTimeout((function(){F(!1)}),3e3)}),[L]),Object(n.useEffect)((function(){m.city&&z()}),[m]),r.a.createElement(f.a,{className:"bg-dark px-0 text-light",style:{minHeight:"100vh"},fluid:!0},r.a.createElement(b,null),L&&r.a.createElement("div",{className:"w-100"},r.a.createElement(h.a,{color:"info",className:"text-center"},r.a.createElement(q.a,{duration:3e3,persistOnHover:!0},D))),r.a.createElement(y.a,{style:{width:"100px"},className:"d-flex justify-content-center align-items-center"},r.a.createElement(E.a,{color:"info",active:"metric"===j,onClick:function(){return"metric"!==j?O("metric"):""}},r.a.createElement(J.a,null)),r.a.createElement(E.a,{color:"info",active:"imperial"===j,onClick:function(){return"metric"===j?O("imperial"):""}},r.a.createElement(J.b,null))),r.a.createElement(N,{setFlash:F,setFlashMessage:T,getWeatherObj:z,locationObj:m,setLocationObj:p,getCoords:function(){navigator.geolocation?(T("Loading..."),F(!0),navigator.geolocation.getCurrentPosition(G,W)):(T("Geolocation not supported on you browser!"),F(!0))}}),r.a.createElement(H,{getWeatherObj:z,weatherObj:a,locationObj:m,units:j,symbol:w}))};i.a.render(r.a.createElement(P,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.565543c4.chunk.js.map