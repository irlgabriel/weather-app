(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{31:function(e,t,a){e.exports=a(49)},49:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),r=a(14),i=a.n(r),l=a(13),o=a.n(l),s=a(18),m=a(8),u=a(11),p=a(12);function d(){var e=Object(u.a)(["\n  * {\n    box-sizing: border-box;\n    padding: 0;\n    margin: 0;\n  }\n"]);return d=function(){return e},e}var b=Object(p.a)(d()),h=(a(39),a(56)),f=a(65),g=a(64),y=a(55),E=a(53),j=a(54),x=a(51),O=a(52);function v(){var e=Object(u.a)(["\n\n"]);return v=function(){return e},e}function w(){var e=Object(u.a)(["\n  width: 50%;\n  margin: 0 auto;\n  position: relative;\n  padding-right: 30px;\n\n  @media screen and (max-width: 768px) {\n    width: 90%; \n  }\n"]);return w=function(){return e},e}var N=Object(p.b)(x.a)(w()),S=Object(p.b)(O.a)(v());function k(e){var t=e.setFlash,a=e.setFlashMessage,n=e.locationObj,r=e.setLocationObj,i=e.getCoords;return c.a.createElement(E.a,{onSubmit:function(e){e.preventDefault();var n=e.target.location.value;""===n?(a("bad query"),t(!0)):r({city:n})}},c.a.createElement(j.a,null,c.a.createElement(S,{className:"text-center w-100 h2",htmlFor:"location"},"City"),c.a.createElement(N,{style:{height:"50px",fontSize:"1.5rem"},defaultValue:n.city,name:"location",placeholder:"City Name.."})),c.a.createElement(j.a,{className:"text-center"},c.a.createElement(y.a,{className:"btn-outline-light btn-lg btn"},"Search"),c.a.createElement("p",{className:"mb-0"},"Or"),c.a.createElement(y.a,{type:"button",className:"btn-lg btn btn-outline-light",onClick:i,color:"info"},"Get My Location")))}var C=a(20),L=a(57),F=a(58),I=a(59),M=a(60),D=a(61),T=a(62),B=a(63);function G(e){var t=e.weatherObj,a=e.locationObj,n=e.symbol,r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=new Date,l=r[i.getDay()],o=r.indexOf(l);return c.a.createElement(h.a,{color:"primary",fluid:!0},a.city&&t.list&&c.a.createElement("h3",{className:"text-center"},a.city+", "+t.city.country),c.a.createElement(L.a,null,t&&t.list&&t.list.map((function(e){return c.a.createElement(F.a,{className:"m-0 justify-content-between",key:o,xs:"12",sm:"6",md:"4",lg:"3"},c.a.createElement(I.a,{className:"m-0 mt-3 bg-light text-dark",key:r[o%7]},c.a.createElement(M.a,null,c.a.createElement(D.a,null,c.a.createElement("h3",null,r[o++%7])),c.a.createElement(T.a,null,c.a.createElement("em",{style:{fontSize:"1.3rem"}},e.weather[0].description))),c.a.createElement(B.a,null,c.a.createElement("h4",{style:{marginBottom:"4px",display:"flex",alignItems:"center"}},"Current: \xa0",parseInt(e.temp.day),n),c.a.createElement("h4",{style:{marginBottom:"4px",display:"flex",alignItems:"center"},className:"mb-0"},"Min: \xa0",parseInt(e.temp.min),n),c.a.createElement("h4",{style:{marginBottom:"4px",display:"flex",alignItems:"center"},className:"mb-0"},"Max: \xa0",parseInt(e.temp.max),n),c.a.createElement("h4",{className:"mb-3"},"Humidity: \xa0",e.humidity,"%"),c.a.createElement("h4",{className:"mb-3"},"Sunrise(",c.a.createElement(C.a,null),"): ",new Date(1e3*e.sunrise).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),c.a.createElement("h4",{className:"mb-3"},"Sunset(",c.a.createElement(C.b,null),"): ",new Date(1e3*e.sunset).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})))))}))))}var z=a(30),H=a.n(z),W=a(10);var q=function(){var e=Object(n.useState)({}),t=Object(m.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)({}),l=Object(m.a)(i,2),u=l[0],p=l[1],d=Object(n.useState)("metric"),E=Object(m.a)(d,2),j=E[0],x=E[1],O=Object(n.useState)(c.a.createElement(W.a,null)),v=Object(m.a)(O,2),w=v[0],N=v[1],S=Object(n.useState)(!1),C=Object(m.a)(S,2),L=C[0],F=C[1],I=Object(n.useState)("Default Flash Message"),M=Object(m.a)(I,2),D=M[0],T=M[1];function B(e){!function(e,t){q.apply(this,arguments)}(e.coords.latitude,e.coords.longitude)}function z(){T("Cannot Get Position!"),F(!0)}function q(){return(q=Object(s.a)(o.a.mark((function e(t,a){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=".concat(t,"&longitude=").concat(a,"&localityLanguage=en"));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,p(c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return P.apply(this,arguments)}function P(){return(P=Object(s.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T("Loading..."),F(!0),e.prev=2,e.next=5,fetch("https://community-open-weather-map.p.rapidapi.com/forecast/daily?q=".concat(u.city,"&cnt=7&units=").concat(j),{method:"GET",headers:{"x-rapidapi-host":"community-open-weather-map.p.rapidapi.com","x-rapidapi-key":"d89eb58edamsh10814d1e692895ep158751jsn8a8b4c01281a"}});case 5:return t=e.sent,e.next=8,t.json();case 8:if(a=e.sent,r(a),F(!1),"404"!==a.cod){e.next=13;break}throw a.message;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),T(e.t0),F(!0);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){a.list&&(N("metric"===j?c.a.createElement(W.a,null):c.a.createElement(W.b,null)),J())}),[j]),Object(n.useEffect)((function(){L&&setTimeout((function(){F(!1)}),3e3)}),[L]),Object(n.useEffect)((function(){u.city&&J()}),[u]),c.a.createElement(h.a,{className:"bg-secondary px-0 text-light",style:{minHeight:"100vh"},fluid:!0},c.a.createElement(b,null),L&&c.a.createElement("div",{className:"w-100"},c.a.createElement(f.a,{color:"info",className:"text-center"},c.a.createElement(H.a,{duration:3e3,persistOnHover:!0},D))),c.a.createElement(g.a,{style:{width:"100px"},className:"d-flex justify-content-center align-items-center"},c.a.createElement(y.a,{color:"info",active:"metric"===j,onClick:function(){return"metric"!==j?x("metric"):""}},c.a.createElement(W.a,null)),c.a.createElement(y.a,{color:"info",active:"imperial"===j,onClick:function(){return"metric"===j?x("imperial"):""}},c.a.createElement(W.b,null))),c.a.createElement(k,{setFlash:F,setFlashMessage:T,getWeatherObj:J,locationObj:u,setLocationObj:p,getCoords:function(){navigator.geolocation?(T("Loading..."),F(!0),navigator.geolocation.getCurrentPosition(B,z)):(T("Geolocation not supported on you browser!"),F(!0))}}),c.a.createElement(G,{getWeatherObj:J,weatherObj:a,locationObj:u,units:j,symbol:w}))};i.a.render(c.a.createElement(q,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.3c325e4e.chunk.js.map