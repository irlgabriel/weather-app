{"version":3,"sources":["globalStyles.js","components/SearchBar/SearchBar.components.js","components/SearchBar/SearchBar.js","components/Weather/Weather.js","App.components.js","App.js","index.js"],"names":["GlobalStyle","createGlobalStyle","FormInput","styled","Input","FormLabel","Label","SearchBar","setFlash","setFlashMessage","locationObj","setLocationObj","getCoords","Form","onSubmit","e","preventDefault","location","target","value","city","FormGroup","className","htmlFor","defaultValue","name","placeholder","Button","type","onClick","color","Weather","weatherObj","symbol","days","d","Date","dayName","getDay","dayIndex","indexOf","Container","fluid","list","country","Row","map","day","Col","key","xs","sm","md","lg","Card","CardHeader","CardTitle","CardSubtitle","weather","description","CardBody","style","display","alignItems","parseInt","temp","min","max","humidity","sunrise","toLocaleTimeString","hour","minute","sunset","div","App","useState","setWeatherObj","units","setSymbol","showFlash","flashMessage","success","position","getCity","coords","latitude","longitude","error","lat","long","a","fetch","response","json","res","getWeatherObj","cod","message","useEffect","setTimeout","minHeight","Alert","duration","persistOnHover","navigator","geolocation","getCurrentPosition","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0e22a001.chunk.js","sourcesContent":["import styled, { createGlobalStyle } from \"styled-components\"\n\nexport const GlobalStyle = createGlobalStyle`\n  * {\n    box-sizing: border-box;\n    padding: 0;\n    margin: 0;\n  }\n`","import styled from \"styled-components\"\nimport { Input, Label, Button } from \"reactstrap\"\n\nexport const FormInput = styled(Input)`\n  width: 50%;\n  margin: 0 auto;\n  position: relative;\n  padding-right: 30px;\n\n  @media screen and (max-width: 768px) {\n    width: 90%; \n  }\n`\n\nexport const FormLabel = styled(Label)`\n\n`\n","import React from \"react\"\nimport {\n  Form,\n  FormGroup,\n  Button\n} from \"reactstrap\"\nimport { FormInput, FormLabel, LocationButton } from \"./SearchBar.components\"\nimport { FaSearchLocation } from \"react-icons/fa\"\n\n\nexport default function SearchBar({\n  setFlash,\n  setFlashMessage,\n  locationObj,\n  setLocationObj,\n  getCoords\n}) {\n  function submitHandler(e) {\n    e.preventDefault();\n    const location = e.target.location.value\n    if(location === \"\") {\n      setFlashMessage(\"bad query\");\n      setFlash(true)\n    } else {\n      setLocationObj({city: location})\n    }\n  }\n\n\n  return(\n    <Form onSubmit={submitHandler}>\n      <FormGroup>\n        <FormLabel className=\"text-center w-100 h2\" htmlFor=\"location\">City</FormLabel>\n        <FormInput defaultValue={locationObj.city} name=\"location\" placeholder=\"City Name..\" />\n      </FormGroup>\n      <FormGroup  className=\"text-center\">\n        <Button>Search</Button>\n        <p className=\"mb-0\">Or</p>\n        <Button type=\"button\" onClick={getCoords} color=\"primary\">Get My Location</Button>\n      </FormGroup>\n    </Form>\n  )\n}","import React from \"react\";\nimport { FiSunset, FiSunrise } from \"react-icons/fi\"\n\nimport {\n  Container,\n  Card,\n  CardHeader,\n  CardBody,\n  CardTitle,\n  CardSubtitle,\n  Row,\n  Col\n} from \"reactstrap\"\n\nexport default function Weather({\n  weatherObj,\n  locationObj,\n  symbol,\n}) {\n  let days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n  let d = new Date();\n  let dayName = days[d.getDay()];\n  let dayIndex = days.indexOf(dayName);\n  return( \n      <Container color=\"primary\" fluid={true}>\n        {\n          locationObj.city && weatherObj.list && \n          <h3 className=\"text-center\">{locationObj.city + \", \" + weatherObj.city.country}</h3>\n        }\n        <Row>\n        {\n        weatherObj && weatherObj.list && \n        weatherObj.list.map(\n        day => \n            <Col key={dayIndex} xs=\"12\" sm=\"6\" md=\"4\" lg=\"3\">\n              <Card className=\"m-1 bg-light text-dark\" key={days[(dayIndex) % 7]}>\n                <CardHeader>\n                  <CardTitle><h4>{days[(dayIndex ++) % 7]}</h4></CardTitle>\n                  <CardSubtitle><span>{day.weather[0].description}</span></CardSubtitle>\n                </CardHeader>\n                {\n                  <CardBody>\n                    \n                    <div style={{display: \"flex\", alignItems: \"center\"}}>Current: &nbsp;{parseInt(day.temp.day)}{symbol}</div>\n                    <div style={{display: \"flex\", alignItems: \"center\"}}>Min: &nbsp;{parseInt(day.temp.min)}{symbol}</div>\n                    <div style={{display: \"flex\", alignItems: \"center\"}}>Max: &nbsp;{parseInt(day.temp.max)}{symbol}</div>\n                    <p className=\"mb-0\">Humidity: &nbsp;{day.humidity}%</p>\n                    <p className=\"mb-0\">Sunrise({<FiSunrise/>}): {new Date(day.sunrise * 1000).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</p>\n                    <p className=\"mb-0\">Sunset({<FiSunset />}): {new Date(day.sunset * 1000).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</p>\n                  </CardBody>\n                }\n              </Card>\n            </Col>\n          )}\n        </Row> \n      </Container>\n  )}","import styled from \"styled-components\"\n\nexport const FlashContainer = styled.div`\n  text-align: center;\n  padding: .25rem 1.25rem;\n  color: white;\n  margin: 0 auto;\n  border-radius: 5px;\n`","import React, { useState, useEffect } from 'react';\nimport { \n  GlobalStyle, \n} from \"./globalStyles\"\nimport \"bootstrap/dist/css/bootstrap.min.css\"\n\n// Components\nimport { Container, Row, Col, Alert } from \"reactstrap\"\nimport { SearchBar, Weather } from \"./components\"\nimport { FlashContainer } from \"./App.components\";\nimport FlashMessage from \"react-flash-message\";\nimport { RiCelsiusFill, RiFahrenheitFill } from \"react-icons/ri\";\n\nfunction App() {\n  const [weatherObj, setWeatherObj] = useState({});\n  const [locationObj, setLocationObj] = useState({})\n  const [units, setUnits] = useState(\"metric\")\n  const [symbol, setSymbol] = useState(<RiCelsiusFill />)\n\n  // FlashMessage States\n  const [showFlash, setFlash] = useState(false)\n  const [flashMessage, setFlashMessage] = useState(\"Default Flash Message\")\n  \n  // Set symbol when unit changes\n  useEffect(()   => {\n    if(weatherObj.list) {\n      setSymbol(units === \"metric\" ? <RiCelsiusFill /> : <RiFahrenheitFill />);\n      getWeatherObj()\n    }\n  }, [units])\n  \n\n  // Set showFlash state back to false after message fades\n  useEffect(() => {\n    if(showFlash) { \n      setTimeout(() => {\n        setFlash(false)\n      }, 3000)\n    }\n  }, [showFlash])\n\n  // Call OpenWeather API after locationObj is changed\n  useEffect(() => {\n    if(locationObj.city) {\n      getWeatherObj()\n    }\n  }, [locationObj])\n\n  // Geolocation API\n  function getCoords() {\n    if(navigator.geolocation) {\n      setFlashMessage(\"Loading...\");\n      setFlash(true);\n      navigator.geolocation.getCurrentPosition(success, error)\n    } else {\n      setFlashMessage(\"Geolocation not supported on you browser!\")\n      setFlash(true);\n    }\n  }\n\n  // Callbacks for HTML Geolocation function\n  function success(position) {\n    getCity(position.coords.latitude, position.coords.longitude)\n  }\n  function error() {\n    setFlashMessage(\"Cannot Get Position!\");\n    setFlash(true);\n  }\n\n  // Use HTML5 Geolocation's coords to get city name\n  async function getCity(lat, long) {\n    const response = await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${lat}&longitude=${long}&localityLanguage=en`)\n    const res = await response.json()\n    setLocationObj(res);\n  }\n\n  // OpenWeather API\n  async function getWeatherObj() {\n    setFlashMessage(\"Loading...\")\n    setFlash(true);\n    try {\n      const response = await fetch(`https://community-open-weather-map.p.rapidapi.com/forecast/daily?q=${locationObj.city}&cnt=7&units=${units}`, {\n      \"method\": \"GET\",\n      \"headers\": {\n        \"x-rapidapi-host\": \"community-open-weather-map.p.rapidapi.com\",\n        \"x-rapidapi-key\": \"d89eb58edamsh10814d1e692895ep158751jsn8a8b4c01281a\"\n      }\n    })\n    // if(!response.ok) { throw response }\n    const res = await response.json()\n    setWeatherObj(res)\n    setFlash(false)\n    if(res.cod === \"404\") { throw res.message }\n    } catch(e) {\n      setFlashMessage(e);\n      setFlash(true);\n    }\n  } \n\n  function toggleUnits() {\n    setUnits(units === \"metric\" ? \"imperial\" : \"metric\");\n  }\n\n  return (\n    <Container className=\"bg-dark px-0 text-light\" style={{minHeight: \"100vh\"}} fluid={true} >\n      <GlobalStyle />\n      {\n        showFlash && \n        <div className=\"w-100\">\n          <Alert color=\"danger\" className=\"text-center\">\n            <FlashMessage duration={3000} persistOnHover={true}>{flashMessage}</FlashMessage>\n          </Alert>\n        </div>\n      }\n      <SearchBar\n        setFlash={setFlash}\n        setFlashMessage={setFlashMessage}\n        getWeatherObj={getWeatherObj}\n        locationObj={locationObj}\n        setLocationObj={setLocationObj}\n        getCoords={getCoords}\n      />\n      <Weather \n        getWeatherObj={getWeatherObj}\n        weatherObj={weatherObj}\n        locationObj={locationObj}\n        units={units}\n        symbol={symbol}\n      />\n    </Container>\n  );\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}