(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{31:function(e,t,a){e.exports=a(49)},49:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(13),i=a.n(c),l=a(12),o=a.n(l),s=a(18),u=a(10),m=a(8),d=a(9);function p(){var e=Object(m.a)(["\n  * {\n    box-sizing: border-box;\n    padding: 0;\n    margin: 0;\n  }\n"]);return p=function(){return e},e}var b=Object(d.a)(p()),h=(a(39),a(56)),f=a(64),g=a(53),y=a(54),E=a(55),j=a(51),O=a(52);function v(){var e=Object(m.a)(["\n\n"]);return v=function(){return e},e}function x(){var e=Object(m.a)(["\n  width: 50%;\n  margin: 0 auto;\n  position: relative;\n  padding-right: 30px;\n\n  @media screen and (max-width: 768px) {\n    width: 90%; \n  }\n"]);return x=function(){return e},e}var w=Object(d.b)(j.a)(x()),S=Object(d.b)(O.a)(v());function k(e){var t=e.setFlash,a=e.setFlashMessage,n=e.locationObj,c=e.setLocationObj,i=e.getCoords;return r.a.createElement(g.a,{onSubmit:function(e){e.preventDefault();var n=e.target.location.value;""===n?(a("bad query"),t(!0)):c({city:n})}},r.a.createElement(y.a,null,r.a.createElement(S,{className:"text-center w-100 h2",htmlFor:"location"},"City"),r.a.createElement(w,{defaultValue:n.city,name:"location",placeholder:"City Name.."})),r.a.createElement(y.a,{className:"text-center"},r.a.createElement(E.a,null,"Search"),r.a.createElement("p",{className:"mb-0"},"Or"),r.a.createElement(E.a,{type:"button",onClick:i,color:"primary"},"Get My Location")))}var N=a(20),C=a(57),L=a(58),F=a(59),I=a(60),M=a(61),D=a(62),T=a(63);function G(e){var t=e.weatherObj,a=e.locationObj,n=e.symbol,c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=new Date,l=c[i.getDay()],o=c.indexOf(l);return r.a.createElement(h.a,{color:"primary",fluid:!0},a.city&&t.list&&r.a.createElement("h3",{className:"text-center"},a.city+", "+t.city.country),r.a.createElement(C.a,null,t&&t.list&&t.list.map((function(e){return r.a.createElement(L.a,{key:o,xs:"12",sm:"6",md:"4",lg:"3"},r.a.createElement(F.a,{className:"m-1 bg-light text-dark",key:c[o%7]},r.a.createElement(I.a,null,r.a.createElement(M.a,null,r.a.createElement("h4",null,c[o++%7])),r.a.createElement(D.a,null,r.a.createElement("span",null,e.weather[0].description))),r.a.createElement(T.a,null,r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},"Current: \xa0",parseInt(e.temp.day),n),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},"Min: \xa0",parseInt(e.temp.min),n),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},"Max: \xa0",parseInt(e.temp.max),n),r.a.createElement("p",{className:"mb-0"},"Humidity: \xa0",e.humidity,"%"),r.a.createElement("p",{className:"mb-0"},"Sunrise(",r.a.createElement(N.a,null),"): ",new Date(1e3*e.sunrise).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),r.a.createElement("p",{className:"mb-0"},"Sunset(",r.a.createElement(N.b,null),"): ",new Date(1e3*e.sunset).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})))))}))))}function H(){var e=Object(m.a)(["\n  text-align: center;\n  padding: .25rem 1.25rem;\n  color: white;\n  margin: 0 auto;\n  border-radius: 5px;\n"]);return H=function(){return e},e}d.b.div(H());var W=a(30),q=a.n(W),J=a(15);var P=function(){var e=Object(n.useState)({}),t=Object(u.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)({}),l=Object(u.a)(i,2),m=l[0],d=l[1],p=Object(n.useState)("metric"),g=Object(u.a)(p,2),y=g[0],E=(g[1],Object(n.useState)(r.a.createElement(J.a,null))),j=Object(u.a)(E,2),O=j[0],v=j[1],x=Object(n.useState)(!1),w=Object(u.a)(x,2),S=w[0],N=w[1],C=Object(n.useState)("Default Flash Message"),L=Object(u.a)(C,2),F=L[0],I=L[1];function M(e){!function(e,t){T.apply(this,arguments)}(e.coords.latitude,e.coords.longitude)}function D(){I("Cannot Get Position!"),N(!0)}function T(){return(T=Object(s.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=".concat(t,"&longitude=").concat(a,"&localityLanguage=en"));case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,d(r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return W.apply(this,arguments)}function W(){return(W=Object(s.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I("Loading..."),N(!0),e.prev=2,e.next=5,fetch("https://community-open-weather-map.p.rapidapi.com/forecast/daily?q=".concat(m.city,"&cnt=7&units=").concat(y),{method:"GET",headers:{"x-rapidapi-host":"community-open-weather-map.p.rapidapi.com","x-rapidapi-key":"d89eb58edamsh10814d1e692895ep158751jsn8a8b4c01281a"}});case 5:return t=e.sent,e.next=8,t.json();case 8:if(a=e.sent,c(a),N(!1),"404"!==a.cod){e.next=13;break}throw a.message;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),I(e.t0),N(!0);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){a.list&&(v("metric"===y?r.a.createElement(J.a,null):r.a.createElement(J.b,null)),H())}),[y]),Object(n.useEffect)((function(){S&&setTimeout((function(){N(!1)}),3e3)}),[S]),Object(n.useEffect)((function(){m.city&&H()}),[m]),r.a.createElement(h.a,{className:"bg-dark px-0 text-light",style:{minHeight:"100vh"},fluid:!0},r.a.createElement(b,null),S&&r.a.createElement("div",{className:"w-100"},r.a.createElement(f.a,{color:"danger",className:"text-center"},r.a.createElement(q.a,{duration:3e3,persistOnHover:!0},F))),r.a.createElement(k,{setFlash:N,setFlashMessage:I,getWeatherObj:H,locationObj:m,setLocationObj:d,getCoords:function(){navigator.geolocation?(I("Loading..."),N(!0),navigator.geolocation.getCurrentPosition(M,D)):(I("Geolocation not supported on you browser!"),N(!0))}}),r.a.createElement(G,{getWeatherObj:H,weatherObj:a,locationObj:m,units:y,symbol:O}))};i.a.render(r.a.createElement(P,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.0e22a001.chunk.js.map